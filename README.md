# üéµ Amplify - ·ª®ng d·ª•ng nghe nh·∫°c Spotify Clone

**ƒê·ªì √°n h·ªçc ph·∫ßn Python - Nh√≥m 18**

- **Sinh vi√™n**: DTH235659 - Nguy·ªÖn Phi H√πng
- **L·ªõp**: DH24TH1
- **H·ªçc ph·∫ßn**: L·∫≠p tr√¨nh Python

---

## üìã M√¥ t·∫£ d·ª± √°n

Amplify l√† ·ª©ng d·ª•ng desktop nghe nh·∫°c ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng Python, m√¥ ph·ªèng giao di·ªán v√† t√≠nh nƒÉng c·ªßa Spotify. D·ª± √°n s·ª≠ d·ª•ng:

- **Frontend**: Tkinter v·ªõi custom UI components
- **Database**: PostgreSQL (Neon Cloud)
- **Features**:
  - üé® Giao di·ªán ƒë·∫πp m·∫Øt, hi·ªán ƒë·∫°i v·ªõi dark theme
  - üéµ Qu·∫£n l√Ω albums, tracks, artists, playlists
  - üîç T√¨m ki·∫øm v√† browse nh·∫°c
  - ‚ù§Ô∏è Y√™u th√≠ch b√†i h√°t
  - üë§ Qu·∫£n l√Ω user v√† authentication
  - üéº Ph√°t nh·∫°c v·ªõi music player controls

---

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

### Backend & Database
- **PostgreSQL** - Neon Cloud Database
- **psycopg2** - PostgreSQL adapter
- **Connection pooling** - T·ªëi ∆∞u k·∫øt n·ªëi database

### Frontend
- **Tkinter** - GUI framework
- **Pillow (PIL)** - X·ª≠ l√Ω h√¨nh ·∫£nh
- **Pyglet** - Custom fonts
- **Requests** - HTTP client ƒë·ªÉ load ·∫£nh t·ª´ URL

### Audio
- **Pygame** - Audio playback
- **Mutagen** - Audio metadata

### Data Processing
- **NumPy** - Numerical computing
- **scikit-image** - Image processing

---

## üì¶ C·∫•u tr√∫c th∆∞ m·ª•c

```
DoAn_Python.NhomDoAn18.DH24TH1_1_1/
‚îú‚îÄ‚îÄ main.py                    # Entry point
‚îú‚îÄ‚îÄ requirements.txt           # Dependencies
‚îú‚îÄ‚îÄ test_db.py                # Database test script
‚îú‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ ActivityIndicator/        # Loading animation
‚îÇ   ‚îú‚îÄ‚îÄ Activity_Indicator.py
‚îÇ   ‚îî‚îÄ‚îÄ Activity.gif
‚îÇ
‚îú‚îÄ‚îÄ Base/                     # Base UI components
‚îÇ   ‚îú‚îÄ‚îÄ top.py               # Top navigation bar
‚îÇ   ‚îú‚îÄ‚îÄ bottom.py            # Bottom player bar
‚îÇ   ‚îú‚îÄ‚îÄ topLeft.py           # Logo & menu
‚îÇ   ‚îú‚îÄ‚îÄ topRight.py          # Page container
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îú‚îÄ‚îÄ Database/                 # Database layer
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # DB configuration
‚îÇ   ‚îú‚îÄ‚îÄ Database.py          # Connection pool & queries
‚îÇ   ‚îî‚îÄ‚îÄ HomePagedata.py      # Data fetching logic
‚îÇ
‚îú‚îÄ‚îÄ Pages/                    # Application pages
‚îÇ   ‚îú‚îÄ‚îÄ HomePage/            # Home page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Components/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ HorizontalFrame.py
‚îÇ   ‚îú‚îÄ‚îÄ SearchPage/          # Search page
‚îÇ   ‚îú‚îÄ‚îÄ Browse/              # Browse page
‚îÇ   ‚îú‚îÄ‚îÄ AlbumPage/           # Album detail page
‚îÇ   ‚îú‚îÄ‚îÄ ArtistPage/          # Artist detail page
‚îÇ   ‚îú‚îÄ‚îÄ MusicPage/           # Music player page
‚îÇ   ‚îú‚îÄ‚îÄ UserPage/            # User profile
‚îÇ   ‚îî‚îÄ‚îÄ Resource/            # Shared resources
‚îÇ       ‚îú‚îÄ‚îÄ Header.py
‚îÇ       ‚îú‚îÄ‚îÄ HorizontalScrollableFrame.py
‚îÇ       ‚îî‚îÄ‚îÄ VerticalScrollableFrame.py
‚îÇ
‚îú‚îÄ‚îÄ fonts/                    # Custom fonts
‚îÇ   ‚îî‚îÄ‚îÄ Play/
‚îÇ       ‚îú‚îÄ‚îÄ Play-Bold.ttf
‚îÇ       ‚îî‚îÄ‚îÄ Play-Regular.ttf
‚îÇ
‚îî‚îÄ‚îÄ images/                   # UI assets
    ‚îú‚îÄ‚îÄ app_64.png
    ‚îú‚îÄ‚îÄ play_icon.png
    ‚îú‚îÄ‚îÄ pause_icon.png
    ‚îî‚îÄ‚îÄ ...
```

---

## üöÄ H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t & ch·∫°y

### 1Ô∏è‚É£ Y√™u c·∫ßu h·ªá th·ªëng

- **Python**: 3.10+ (khuy·∫øn ngh·ªã 3.10)
- **OS**: Windows / macOS / Linux
- **RAM**: 4GB+
- **K·∫øt n·ªëi Internet**: ƒê·ªÉ load h√¨nh ·∫£nh t·ª´ database

### 2Ô∏è‚É£ Clone repository

```bash
git clone https://github.com/your-username/DoAn_Python.NhomDoAn18.DH24TH1_1_1.git
cd DoAn_Python.NhomDoAn18.DH24TH1_1_1
```

### 3Ô∏è‚É£ T·∫°o m√¥i tr∆∞·ªùng ·∫£o (Virtual Environment)

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

**macOS/Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
```

### 4Ô∏è‚É£ C√†i ƒë·∫∑t dependencies

```bash
# Upgrade pip
python -m pip install --upgrade pip

# C√†i ƒë·∫∑t c√°c th∆∞ vi·ªán c·∫ßn thi·∫øt
pip install -r requirements.txt
```

**N·ªôi dung `requirements.txt`:**
```txt
pyglet==2.0.10
Pillow==10.1.0
numpy==1.26.2
scikit-image==0.22.0
mutagen==1.47.0
requests==2.31.0
pygame==2.5.2
psycopg2-binary==2.9.9
```

### 5Ô∏è‚É£ C·∫•u h√¨nh Database

D·ª± √°n s·ª≠ d·ª•ng PostgreSQL tr√™n Neon Cloud. Connection string ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh s·∫µn trong `Database/config.py`:

```python
DATABASE_CONFIG = {
    'connection_string': "postgresql://neondb_owner:npg_0xVDJL7dfsSI@ep-polished-water-a1gwnvhw-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require"
}
```

> **L∆∞u √Ω**: ƒê·ªÉ b·∫£o m·∫≠t, trong production n√™n ƒë·∫∑t connection string v√†o bi·∫øn m√¥i tr∆∞·ªùng.

### 6Ô∏è‚É£ Test k·∫øt n·ªëi Database

```bash
python test_db.py
```

**K·∫øt qu·∫£ mong ƒë·ª£i:**
```
==================================================
DATABASE CONNECTION TEST
==================================================

[1] Testing database connection...
   ‚úì Connected! Total artists: 15

[2] Checking tables...
   ‚úì artists: 15 records
   ‚úì albums: 20 records
   ‚úì tracks: 50 records
   ‚úì genres: 10 records
   ‚úì languages: 5 records
   ‚úì users: 3 records

[3] Testing HomePage data...
   ‚úì Got 4 sections
      - Popular Albums: 10 items
      - Trending Now: 10 items
      - Top Artists: 10 items
      - Recently Added: 10 items

==================================================
TEST COMPLETED
==================================================
```

### 7Ô∏è‚É£ Ch·∫°y ·ª©ng d·ª•ng

```bash
python main.py
```

**·ª®ng d·ª•ng s·∫Ω:**
1. Hi·ªÉn th·ªã splash screen trong 3 gi√¢y
2. Load d·ªØ li·ªáu t·ª´ PostgreSQL
3. Hi·ªÉn th·ªã giao di·ªán ch√≠nh v·ªõi:
   - Home page v·ªõi albums, tracks, artists
   - Navigation menu (Home, Browse, Search)
   - Music player controls (bottom bar)

---

## üéØ T√≠nh nƒÉng ch√≠nh

### ‚úÖ ƒê√£ ho√†n th√†nh

#### 1. **Home Page**
- Hi·ªÉn th·ªã Popular Albums
- Trending Tracks v·ªõi like count
- Top Artists
- Recently Added Albums
- Lazy loading images t·ª´ URL
- Hover effects (zoom, shadow, play button overlay)
- Scrolling text cho t√™n b√†i h√°t d√†i

#### 2. **Database Integration**
- Connection pooling v·ªõi PostgreSQL
- Real-time data fetching
- Error handling v√† fallback
- Mock data khi database tr·ªëng

#### 3. **UI Components**
- Custom scrollable frames (vertical & horizontal)
- Music cards v·ªõi hover animations
- Header component t√°i s·ª≠ d·ª•ng
- Responsive layout v·ªõi grid/pack managers

#### 4. **Image Handling**
- Load ·∫£nh t·ª´ HTTP/HTTPS
- Placeholder cho ·∫£nh l·ªói
- Cache ·∫£nh ƒë√£ load
- User-Agent spoofing cho Wikipedia

### üöß ƒêang ph√°t tri·ªÉn

- [ ] Search functionality
- [ ] Browse by genre/language
- [ ] Album detail page
- [ ] Artist detail page
- [ ] Music player v·ªõi audio playback
- [ ] Playlist management
- [ ] User authentication & profiles
- [ ] Like/Unlike tracks
- [ ] Add to playlist
- [ ] Audio visualization

---

## üóÑÔ∏è Database Schema

### **B·∫£ng ch√≠nh:**

```sql
-- Artists
CREATE TABLE artists (
    artist_id SERIAL PRIMARY KEY,
    name VARCHAR(255) UNIQUE,
    image_url TEXT
);

-- Albums
CREATE TABLE albums (
    album_id SERIAL PRIMARY KEY,
    title VARCHAR(255),
    release_date DATE,
    cover_image_url TEXT,
    artist_id INTEGER REFERENCES artists(artist_id)
);

-- Tracks
CREATE TABLE tracks (
    track_id SERIAL PRIMARY KEY,
    title VARCHAR(255),
    duration_seconds INTEGER,
    location_url TEXT,
    like_count INTEGER DEFAULT 0,
    album_id INTEGER REFERENCES albums(album_id),
    genre_id INTEGER REFERENCES genres(genre_id),
    language_id INTEGER REFERENCES languages(language_id)
);

-- Users
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE,
    password_hash TEXT,
    display_name VARCHAR
);

-- Playlists
CREATE TABLE playlists (
    playlist_id SERIAL PRIMARY KEY,
    name VARCHAR(255),
    is_public BOOLEAN DEFAULT false,
    user_id INTEGER REFERENCES users(user_id)
);
```

### **B·∫£ng quan h·ªá:**

```sql
-- Track - Artist (Many-to-Many)
CREATE TABLE track_artists (
    track_id INTEGER REFERENCES tracks(track_id),
    artist_id INTEGER REFERENCES artists(artist_id),
    PRIMARY KEY (track_id, artist_id)
);

-- User - Liked Songs (Many-to-Many)
CREATE TABLE user_liked_songs (
    user_id INTEGER REFERENCES users(user_id),
    track_id INTEGER REFERENCES tracks(track_id),
    PRIMARY KEY (user_id, track_id)
);

-- Playlist - Tracks (Many-to-Many)
CREATE TABLE playlist_tracks (
    playlist_id INTEGER REFERENCES playlists(playlist_id),
    track_id INTEGER REFERENCES tracks(track_id),
    track_order INTEGER,
    PRIMARY KEY (playlist_id, track_id)
);
```

---

## üêõ Troubleshooting

### ‚ùå L·ªói: `ModuleNotFoundError: No module named 'pyglet'`

**Gi·∫£i ph√°p:**
```bash
pip install pyglet
```

### ‚ùå L·ªói: `cannot use geometry manager grid inside ... which already has slaves managed by pack`

**Nguy√™n nh√¢n**: Mixing pack() v√† grid() trong c√πng container

**Gi·∫£i ph√°p**: Ch·ªâ d√πng m·ªôt lo·∫°i geometry manager. Xem file `Pages/HomePage/Home.py` - ƒë√£ s·ª≠a d√πng grid() cho t·∫•t c·∫£.

### ‚ùå L·ªói: `cannot identify image file`

**Nguy√™n nh√¢n**: Wikipedia tr·∫£ v·ªÅ HTML thay v√¨ ·∫£nh

**Gi·∫£i ph√°p**: ƒê√£ implement User-Agent header v√† fallback placeholder trong `HorizontalFrame.py`

### ‚ùå L·ªói: Database connection failed

**Ki·ªÉm tra:**
1. K·∫øt n·ªëi internet
2. Connection string trong `Database/config.py`
3. Firewall/antivirus blocking port 5432

**Test:**
```bash
python test_db.py
```

### ‚ùå ·ª®ng d·ª•ng ch·∫°y ch·∫≠m khi load ·∫£nh

**Nguy√™n nh√¢n**: ƒêang download ·∫£nh t·ª´ internet

**Gi·∫£i ph√°p t∆∞∆°ng lai**:
- Implement image caching
- Lazy loading v·ªõi threading
- Thumbnail generation
- CDN cho ·∫£nh

---

## üìö T√†i li·ªáu tham kh·∫£o

### Tkinter
- [Official Tkinter Documentation](https://docs.python.org/3/library/tkinter.html)
- [Tkinter Tutorial - Real Python](https://realpython.com/python-gui-tkinter/)

### PostgreSQL
- [psycopg2 Documentation](https://www.psycopg.org/docs/)
- [Neon Postgres](https://neon.tech/docs/introduction)

### PIL/Pillow
- [Pillow Documentation](https://pillow.readthedocs.io/)

### Audio
- [Pygame Mixer](https://www.pygame.org/docs/ref/mixer.html)
- [Mutagen](https://mutagen.readthedocs.io/)

---

## ü§ù ƒê√≥ng g√≥p

D·ª± √°n n√†y l√† ƒë·ªì √°n h·ªçc ph·∫ßn, kh√¥ng nh·∫≠n PR t·ª´ b√™n ngo√†i. Tuy nhi√™n, b·∫°n c√≥ th·ªÉ fork v√† ph√°t tri·ªÉn phi√™n b·∫£n c·ªßa ri√™ng m√¨nh.

---

## üìÑ License

MIT License - D√†nh cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p

---

## üë®‚Äçüíª Th√¥ng tin li√™n h·ªá

- **Sinh vi√™n**: Nguy·ªÖn Phi H√πng
- **MSSV**: DTH235659
- **Email**: hungnp@example.com
- **GitHub**: [@hungdev](https://github.com/hungdev)

---

## üéì L·ªùi c·∫£m ∆°n

- Gi·∫£ng vi√™n h∆∞·ªõng d·∫´n: Nguy·ªÖn Ng·ªçc Minh
- Nh√≥m h·ªçc t·∫≠p: Nh√≥m 1 - DH24TH1
- Ngu·ªìn c·∫£m h·ª©ng: Spotify
- Base project: [Amplify by Srajan Gupta](https://github.com/srajangarg/Amplify)

---

## üìù Changelog

### v1.0.0 (01/11/2025)
- ‚úÖ Initial release
- ‚úÖ PostgreSQL integration
- ‚úÖ Home page v·ªõi dynamic data
- ‚úÖ Music card v·ªõi hover effects
- ‚úÖ Scrolling text cho t√™n d√†i
- ‚úÖ Image loading t·ª´ URLs
- ‚úÖ Database connection pooling

### v0.1.0 (25/10/2025)
- üé® Base UI layout
- üìÅ Project structure setup
- üóÑÔ∏è Database schema design

---

**‚≠ê N·∫øu d·ª± √°n h·ªØu √≠ch, h√£y cho m·ªôt star!**
